/**
 * ChatGPA Theme System V2
 * Comprehensive token-based design system with theme presets
 *
 * Architecture:
 * - Semantic tokens (--bg, --surface, --text, etc.)
 * - Theme presets via [data-theme] (academic-dark, academic-light, midnight-focus)
 * - Accent presets via [data-accent] (coral, leaf, focus)
 * - Font presets via [data-font] (inter, georgia, system)
 * - Contrast levels via [data-contrast] (normal, high)
 * - Motion preferences via [data-motion] (full, reduced)
 *
 * Last Updated: 2025-11-18
 * Version: 2.0.0
 */

/* ========================================
   BASE TOKEN DEFINITIONS (Academic Dark Default)
   ======================================== */

:root,
:root[data-theme="academic-dark"] {
  /* ===== Base Neutrals (Layout) - Academic SaaS palette ===== */
  --bg: #30302E;
  --surface: #212121;
  --surface-raised: #2A2A2A;
  --surface-subtle: #1A1A1A;
  --border-subtle: #3A3A3A;
  --border-strong: #4A4A4A;
  --overlay: rgba(0, 0, 0, 0.60);

  /* ===== Text Hierarchy ===== */
  --text: rgba(255, 255, 255, 0.95);
  --text-muted: rgba(255, 255, 255, 0.70);
  --text-soft: rgba(255, 255, 255, 0.50);
  --text-danger: #EF4444;
  --text-success: #48E28A;
  --text-warning: #FBBF24;

  /* ===== State & Scoring ===== */
  --score-pass: #48E28A;
  --score-fail: #EF4444;

  /* ===== Chip/Badge Tokens ===== */
  --chip-bg: rgba(255, 255, 255, 0.08);
  --chip-border: rgba(255, 255, 255, 0.12);

  /* ===== Legacy Aliases (Backward Compatibility) ===== */
  --fg: var(--text);
  --fg-muted: var(--text-muted);
  --card: var(--surface-raised);
  --border: var(--border-subtle);
  --success: var(--text-success);
  --danger: var(--text-danger);
  --warning: var(--text-warning);

  /* ===== Motion Tokens ===== */
  --motion-duration-fast: 100ms;
  --motion-duration-normal: 180ms;
  --motion-duration-slow: 250ms;
  --motion-ease: cubic-bezier(0.4, 0, 0.2, 1);

  /* ===== Font Stacks ===== */
  --font-sans: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-serif: Georgia, "Times New Roman", serif;
  --font-system: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-body: var(--font-sans);
}

/* ========================================
   THEME PRESETS
   ======================================== */

/* Academic Light Theme (for future) */
:root[data-theme="academic-light"] {
  --bg: #FFFFFF;
  --surface: #F7F8F9;
  --surface-raised: #FFFFFF;
  --surface-subtle: #EFF1F4;
  --border-subtle: #E1E3E6;
  --border-strong: #C4C7CF;
  --overlay: rgba(0, 0, 0, 0.30);

  --text: #1A1D21;
  --text-muted: #60656B;
  --text-soft: #8B9097;
  --text-danger: #B91C1C;
  --text-success: #16A34A;
  --text-warning: #D97706;

  --score-pass: #16A34A;
  --score-fail: #B91C1C;

  --chip-bg: rgba(0, 0, 0, 0.06);
  --chip-border: rgba(0, 0, 0, 0.10);
}

/* Midnight Focus Theme (deep work mode) */
:root[data-theme="midnight-focus"] {
  --bg: #0B0D11;
  --surface: #101217;
  --surface-raised: #171A20;
  --surface-subtle: #1C1F28;
  --border-subtle: #232730;
  --border-strong: #343945;
  --overlay: rgba(0, 0, 0, 0.70);

  --text: rgba(255, 255, 255, 0.95);
  --text-muted: rgba(255, 255, 255, 0.55);
  --text-soft: rgba(255, 255, 255, 0.40);
  --text-danger: #F97373;
  --text-success: #48E28A;
  --text-warning: #FBBF24;

  --score-pass: #48E28A;
  --score-fail: #F97373;

  --chip-bg: rgba(255, 255, 255, 0.06);
  --chip-border: rgba(255, 255, 255, 0.10);
}

/* ========================================
   ACCENT PRESETS
   ======================================== */

/* Primary accent: Study Blue */
:root,
:root[data-accent="study-blue"] {
  --accent: #6E8CFB;
  --accent-soft: rgba(110, 140, 251, 0.12);
  --accent-strong: #4C66F3;

  /* Legacy brand tokens for backward compatibility */
  --brand-500: #6E8CFB;
  --brand-600: #4C66F3;
  --brand-400: #8FA7FC;
  --brand-contrast: #1A1D24;
}

/* Alternative: Leaf (green accent) */
:root[data-accent="leaf"] {
  --accent: #48E28A;
  --accent-soft: rgba(72, 226, 138, 0.12);
  --accent-strong: #22C55E;

  /* Legacy accent tokens */
  --accent-500: #2FB879;
  --accent-600: #239C63;
  --accent-400: #56CB94;
  --accent-contrast: #1A1D24;
}

/* ========================================
   FONT PRESETS
   ======================================== */

:root[data-font="inter"] {
  --font-body: "Inter", var(--font-sans);
}

:root[data-font="georgia"] {
  --font-body: var(--font-serif);
}

:root[data-font="system"] {
  --font-body: var(--font-system);
}

/* ========================================
   CONTRAST PRESETS
   ======================================== */

:root[data-contrast="normal"] {
  /* Already defined in base theme - these are the defaults */
}

:root[data-contrast="high"] {
  --text: #FFFFFF;
  --text-muted: #D0D4D8;
  --text-soft: #B4BAC2;
}

/* ========================================
   MOTION PRESETS
   ======================================== */

:root[data-motion="full"] {
  /* Already defined in base - these are the defaults */
}

:root[data-motion="reduced"] {
  --motion-duration-fast: 0ms;
  --motion-duration-normal: 0ms;
  --motion-duration-slow: 0ms;
  --motion-ease: linear;
}

/* Respect system motion preference */
@media (prefers-reduced-motion: reduce) {
  :root:not([data-motion="full"]) {
    --motion-duration-fast: 0ms;
    --motion-duration-normal: 0ms;
    --motion-duration-slow: 0ms;
    --motion-ease: linear;
  }
}

/* ========================================
   SEMANTIC QUIZ TOKENS (Backward Compatibility)
   ======================================== */

:root {
  --quiz-mcq: var(--accent);
  --quiz-typing: var(--accent-strong);
  --quiz-hybrid: #8B8EF7;
  --info: #2E90FA;
}

/* ========================================
   DEV MODE HELPER
   ======================================== */

@media screen {
  body::before {
    content: "ðŸŽ¨ " attr(data-theme) " | " attr(data-accent) " | " attr(data-font);
    position: fixed;
    bottom: 0;
    right: 0;
    padding: 4px 8px;
    font-size: 10px;
    background: var(--surface-raised);
    color: var(--text-soft);
    border: 1px solid var(--border-subtle);
    border-radius: 4px 0 0 0;
    z-index: 9999;
    opacity: 0.3;
    pointer-events: none;
  }
}
